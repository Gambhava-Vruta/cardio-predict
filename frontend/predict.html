<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CardioPredict AI | Predict</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Lucide -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <style>
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-20px); }
    }

    @keyframes gradient-shift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateX(20px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    .float-animation {
      animation: float 6s ease-in-out infinite;
    }

    .glass {
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .gradient-bg {
      background: linear-gradient(-45deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #4facfe 75%, #00f2fe 100%);
      background-size: 400% 400%;
      animation: gradient-shift 15s ease infinite;
    }

    .step-content {
      animation: slideIn 0.5s ease-out;
    }

    .input-modern {
      transition: all 0.3s ease;
    }

    .input-modern:focus {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px -5px rgba(59, 130, 246, 0.3);
    }

    .progress-step {
      transition: all 0.4s ease;
    }

    .progress-step.active .step-circle {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      transform: scale(1.2);
      box-shadow: 0 0 20px rgba(102, 126, 234, 0.6);
    }

    .progress-step.completed .step-circle {
      background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    }

    .progress-line {
      transition: width 0.6s ease;
    }
  </style>
</head>

<body class="min-h-screen gradient-bg">

<div class="fixed inset-0 overflow-hidden pointer-events-none">
    <div class="absolute top-20 left-10 w-72 h-72 bg-purple-300 rounded-full mix-blend-multiply filter blur-xl opacity-20 float-animation"></div>
    <div class="absolute top-40 right-10 w-72 h-72 bg-blue-300 rounded-full mix-blend-multiply filter blur-xl opacity-20 float-animation" style="animation-delay: 2s;"></div>
    <div class="absolute -bottom-32 left-1/2 w-72 h-72 bg-pink-300 rounded-full mix-blend-multiply filter blur-xl opacity-20 float-animation" style="animation-delay: 4s;"></div>
  </div>

  <!-- NAVBAR -->
  <nav class="glass sticky top-0 z-50 shadow-xl">
    <div class="max-w-7xl mx-auto px-6 h-20 flex justify-between items-center">
      <div class="flex items-center space-x-3">
        <div class="relative">
          <div class="absolute inset-0 bg-gradient-to-r from-red-500 to-pink-600 rounded-full blur opacity-75"></div>
          <div class="relative w-12 h-12 bg-gradient-to-br from-red-500 to-pink-600 rounded-full flex items-center justify-center">
            <i data-lucide="heart" class="text-white w-6 h-6"></i>
          </div>
        </div>
        <span class="text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">
          CardioPredict AI
        </span>
      </div>

    <div class="flex space-x-2">
      <a href="home.html" class="nav-btn"><i data-lucide="home"></i>Home</a>
      <a href="predict.html" class="nav-btn"><i data-lucide="activity"></i>Predict</a>
        <a href="about.html" class="nav-btn">
          <i data-lucide="bar-chart-3" class="w-4 h-4"></i> About
        </a>
              <a href="dashboard.html" class="nav-btn bg-blue-600 text-white"><i data-lucide="trending-up"></i>Dashboard</a>
    </div>
  </div>
</nav>

  <!-- MAIN CONTENT -->
  <div class="relative max-w-5xl mx-auto px-6 py-12">

    <!-- Header -->
    <div class="text-center mb-8">
      <h1 class="text-5xl md:text-6xl font-bold text-white mb-4 drop-shadow-lg">
        AI-Powered Risk Analysis
      </h1>
      <p class="text-xl text-white/90 drop-shadow">
        Complete the 3-step assessment for accurate prediction
      </p>
    </div>

    <!-- Progress Indicator -->
    <div class="glass rounded-2xl shadow-xl p-6 mb-8">
      <div class="flex items-center justify-between relative">
        <!-- Progress Line Background -->
        <div class="absolute top-1/2 left-0 w-full h-1 bg-gray-200 -translate-y-1/2 -z-10"></div>
        <!-- Progress Line Active -->
        <div id="progressLine" class="progress-line absolute top-1/2 left-0 h-1 bg-gradient-to-r from-blue-600 to-purple-600 -translate-y-1/2 -z-10" style="width: 0%"></div>

        <!-- Step 1 -->
        <div class="progress-step active flex flex-col items-center" id="step1Indicator">
          <div class="step-circle w-16 h-16 rounded-full bg-gray-300 flex items-center justify-center text-white font-bold text-xl mb-2 relative z-10">
            <i data-lucide="user" class="w-8 h-8"></i>
          </div>
          <span class="text-sm font-semibold text-gray-700">Basic Info</span>
        </div>

        <!-- Step 2 -->
        <div class="progress-step flex flex-col items-center" id="step2Indicator">
          <div class="step-circle w-16 h-16 rounded-full bg-gray-300 flex items-center justify-center text-white font-bold text-xl mb-2 relative z-10">
            <i data-lucide="heart-pulse" class="w-8 h-8"></i>
          </div>
          <span class="text-sm font-semibold text-gray-700">Health Metrics</span>
        </div>

        <!-- Step 3 -->
        <div class="progress-step flex flex-col items-center" id="step3Indicator">
          <div class="step-circle w-16 h-16 rounded-full bg-gray-300 flex items-center justify-center text-white font-bold text-xl mb-2 relative z-10">
            <i data-lucide="activity" class="w-8 h-8"></i>
          </div>
          <span class="text-sm font-semibold text-gray-700">Lifestyle</span>
        </div>
      </div>
    </div>

    <!-- FORM CARD -->
    <div class="glass rounded-3xl shadow-2xl p-8 md:p-10 mb-8">
      
      <!-- Step 1: Basic Information -->
      <div id="step1" class="step-content">
        <div class="flex items-center gap-3 mb-8">
          <div class="w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center">
            <i data-lucide="user" class="text-white w-6 h-6"></i>
          </div>
          <div>
            <h2 class="text-2xl font-bold text-gray-800">Step 1: Basic Information</h2>
            <p class="text-gray-600">Tell us about yourself</p>
          </div>
        </div>

        <div class="grid md:grid-cols-2 gap-6">
          <div class="space-y-2">
            <label class="text-sm font-semibold text-gray-700 flex items-center gap-2">
              <i data-lucide="calendar" class="w-4 h-4"></i>
              Age (years) *
            </label>
            <input id="age" type="number" placeholder="e.g., 45" required
                   class="input-modern w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none">
          </div>

          <div class="space-y-2">
            <label class="text-sm font-semibold text-gray-700 flex items-center gap-2">
              <i data-lucide="users" class="w-4 h-4"></i>
              Gender *
            </label>
            <select id="gender" class="input-modern w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none">
              <option value="0">Female</option>
              <option value="1">Male</option>
            </select>
          </div>

          <div class="space-y-2">
            <label class="text-sm font-semibold text-gray-700 flex items-center gap-2">
              <i data-lucide="ruler" class="w-4 h-4"></i>
              Height (cm) *
            </label>
            <input id="height" type="number" placeholder="e.g., 170" required
                   class="input-modern w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none">
          </div>

          <div class="space-y-2">
            <label class="text-sm font-semibold text-gray-700 flex items-center gap-2">
              <i data-lucide="weight" class="w-4 h-4"></i>
              Weight (kg) *
            </label>
            <input id="weight" type="number" placeholder="e.g., 75" required
                   class="input-modern w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none">
          </div>
        </div>

        <button onclick="nextStep(2)" class="w-full mt-8 bg-gradient-to-r from-blue-600 to-purple-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transform hover:scale-[1.02] transition-all duration-300 flex items-center justify-center gap-3">
          <span>Continue to Health Metrics</span>
          <i data-lucide="arrow-right" class="w-5 h-5"></i>
        </button>
      </div>

      <!-- Step 2: Health Metrics -->
      <div id="step2" class="step-content hidden">
        <div class="flex items-center gap-3 mb-8">
          <div class="w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl flex items-center justify-center">
            <i data-lucide="heart-pulse" class="text-white w-6 h-6"></i>
          </div>
          <div>
            <h2 class="text-2xl font-bold text-gray-800">Step 2: Health Metrics</h2>
            <p class="text-gray-600">Your vital health measurements</p>
          </div>
        </div>

        <div class="grid md:grid-cols-2 gap-6">
          <div class="space-y-2">
            <label class="text-sm font-semibold text-gray-700 flex items-center gap-2">
              <i data-lucide="heart-pulse" class="w-4 h-4"></i>
              Systolic BP (mmHg) *
            </label>
            <input id="ap_hi" type="number" placeholder="e.g., 120" required
                   class="input-modern w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none">
          </div>

          <div class="space-y-2">
            <label class="text-sm font-semibold text-gray-700 flex items-center gap-2">
              <i data-lucide="activity" class="w-4 h-4"></i>
              Diastolic BP (mmHg) *
            </label>
            <input id="ap_lo" type="number" placeholder="e.g., 80" required
                   class="input-modern w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none">
          </div>

          <div class="space-y-2">
            <label class="text-sm font-semibold text-gray-700 flex items-center gap-2">
              <i data-lucide="droplet" class="w-4 h-4"></i>
              Cholesterol Level *
            </label>
            <select id="cholesterol" class="input-modern w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none">
              <option value="1">Normal</option>
              <option value="2">Above Normal</option>
              <option value="3">High</option>
            </select>
          </div>

          <div class="space-y-2">
            <label class="text-sm font-semibold text-gray-700 flex items-center gap-2">
              <i data-lucide="candy" class="w-4 h-4"></i>
              Glucose Level *
            </label>
            <select id="gluc" class="input-modern w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none">
              <option value="1">Normal</option>
              <option value="2">Above Normal</option>
              <option value="3">High</option>
            </select>
          </div>
        </div>

        <div class="flex gap-4 mt-8">
          <button onclick="prevStep(1)" class="flex-1 bg-gray-200 text-gray-700 py-4 rounded-xl font-bold text-lg hover:bg-gray-300 transition-all duration-300 flex items-center justify-center gap-3">
            <i data-lucide="arrow-left" class="w-5 h-5"></i>
            <span>Back</span>
          </button>
          <button onclick="nextStep(3)" class="flex-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transform hover:scale-[1.02] transition-all duration-300 flex items-center justify-center gap-3">
            <span>Continue to Lifestyle</span>
            <i data-lucide="arrow-right" class="w-5 h-5"></i>
          </button>
        </div>
      </div>

      <!-- Step 3: Lifestyle -->
      <div id="step3" class="step-content hidden">
        <div class="flex items-center gap-3 mb-8">
          <div class="w-12 h-12 bg-gradient-to-br from-pink-500 to-red-600 rounded-xl flex items-center justify-center">
            <i data-lucide="activity" class="text-white w-6 h-6"></i>
          </div>
          <div>
            <h2 class="text-2xl font-bold text-gray-800">Step 3: Lifestyle Factors</h2>
            <p class="text-gray-600">Your daily habits and activities</p>
          </div>
        </div>

        <div class="grid md:grid-cols-2 gap-6">
          <div class="space-y-2">
            <label class="text-sm font-semibold text-gray-700 flex items-center gap-2">
              <i data-lucide="cigarette" class="w-4 h-4"></i>
              Smoking Status *
            </label>
            <select id="smoke" class="input-modern w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none">
              <option value="0">Non-Smoker</option>
              <option value="1">Smoker</option>
            </select>
          </div>

          <div class="space-y-2">
            <label class="text-sm font-semibold text-gray-700 flex items-center gap-2">
              <i data-lucide="wine" class="w-4 h-4"></i>
              Alcohol Consumption *
            </label>
            <select id="alco" class="input-modern w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none">
              <option value="0">None</option>
              <option value="1">Regular</option>
            </select>
          </div>

          <div class="space-y-2 md:col-span-2">
            <label class="text-sm font-semibold text-gray-700 flex items-center gap-2">
              <i data-lucide="dumbbell" class="w-4 h-4"></i>
              Physical Activity *
            </label>
            <select id="active" class="input-modern w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none">
              <option value="1">Physically Active</option>
              <option value="0">Inactive</option>
            </select>
          </div>
        </div>

        <div class="flex gap-4 mt-8">
          <button onclick="prevStep(2)" class="flex-1 bg-gray-200 text-gray-700 py-4 rounded-xl font-bold text-lg hover:bg-gray-300 transition-all duration-300 flex items-center justify-center gap-3">
            <i data-lucide="arrow-left" class="w-5 h-5"></i>
            <span>Back</span>
          </button>
          <button onclick="predict()" class="flex-1 bg-gradient-to-r from-green-600 to-emerald-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transform hover:scale-[1.02] transition-all duration-300 flex items-center justify-center gap-3">
            <i data-lucide="sparkles" class="w-5 h-5"></i>
            <span>Analyze Risk</span>
          </button>
        </div>
      </div>

    </div>

    <!-- RESULT -->
    <div id="result" class="hidden"></div>

  </div>

  <script>
  lucide.createIcons();

  let currentStep = 1;

  function nextStep(step) {
    // Validate current step
    if (currentStep === 1) {
      const age = document.getElementById('age').value;
      const height = document.getElementById('height').value;
      const weight = document.getElementById('weight').value;
      
      if (!age || !height || !weight) {
        alert('Please fill in all required fields');
        return;
      }
    }

    if (currentStep === 2) {
      const ap_hi = document.getElementById('ap_hi').value;
      const ap_lo = document.getElementById('ap_lo').value;
      
      if (!ap_hi || !ap_lo) {
        alert('Please fill in all required fields');
        return;
      }
    }

    // Hide current step
    document.getElementById(`step${currentStep}`).classList.add('hidden');
    document.getElementById(`step${currentStep}Indicator`).classList.remove('active');
    document.getElementById(`step${currentStep}Indicator`).classList.add('completed');

    // Show next step
    currentStep = step;
    document.getElementById(`step${currentStep}`).classList.remove('hidden');
    document.getElementById(`step${currentStep}Indicator`).classList.add('active');

    // Update progress line
    const progress = ((currentStep - 1) / 2) * 100;
    document.getElementById('progressLine').style.width = `${progress}%`;

    // Reinitialize icons
    lucide.createIcons();
  }

  function prevStep(step) {
    // Hide current step
    document.getElementById(`step${currentStep}`).classList.add('hidden');
    document.getElementById(`step${currentStep}Indicator`).classList.remove('active');

    // Show previous step
    currentStep = step;
    document.getElementById(`step${currentStep}`).classList.remove('hidden');
    document.getElementById(`step${currentStep}Indicator`).classList.add('active');
    document.getElementById(`step${currentStep}Indicator`).classList.remove('completed');

    // Update progress line
    const progress = ((currentStep - 1) / 2) * 100;
    document.getElementById('progressLine').style.width = `${progress}%`;

    // Reinitialize icons
    lucide.createIcons();
  }

  async function predict() {
    const age = Number(document.getElementById("age").value);
    const gender = Number(document.getElementById("gender").value);
    const height = Number(document.getElementById("height").value);
    const weight = Number(document.getElementById("weight").value);
    const ap_hi = Number(document.getElementById("ap_hi").value);
    const ap_lo = Number(document.getElementById("ap_lo").value);
    const smoke = Number(document.getElementById("smoke").value);
    const alco = Number(document.getElementById("alco").value);
    const active = Number(document.getElementById("active").value);
    const cholesterol = Number(document.getElementById("cholesterol").value);
    const gluc = Number(document.getElementById("gluc").value);

    // Show loading state
    const resultDiv = document.getElementById("result");
    resultDiv.classList.remove("hidden");
    resultDiv.innerHTML = `
      <div class="glass rounded-3xl shadow-2xl p-12 text-center">
        <div class="inline-block animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mb-4"></div>
        <p class="text-xl font-semibold text-gray-700">Analyzing your data...</p>
        <p class="text-gray-500 mt-2">AI model processing</p>
      </div>
    `;

    // Update progress to 100%
    document.getElementById('progressLine').style.width = '100%';
    document.getElementById('step3Indicator').classList.add('completed');
    document.getElementById('step3Indicator').classList.remove('active');

    // One-hot encoding
    const payload = {
      age, gender, height, weight, ap_hi, ap_lo, smoke, alco, active,
      cholesterol_2: cholesterol === 2 ? 1 : 0,
      cholesterol_3: cholesterol === 3 ? 1 : 0,
      gluc_2: gluc === 2 ? 1 : 0,
      gluc_3: gluc === 3 ? 1 : 0
    };

    try {
// fetch("https://cardio-backend-production.up.railway.app/predict", {
//         method: "POST",
//         headers: { "Content-Type": "application/json" },
//         body: JSON.stringify(payload)
//       });
const response = await fetch("https://cardio-predict-production.up.railway.app/api/predict", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(payload)
});


      if (!response.ok) throw new Error("Prediction failed");
     
      const data = await response.json();
      const probability = (data.probability * 100).toFixed(1);
      const isHighRisk = data.prediction === 1;
      const bmi = (weight / ((height / 100) ** 2)).toFixed(1);
      
      resultDiv.innerHTML = `
        <div class="glass rounded-3xl shadow-2xl p-8 md:p-10 ${isHighRisk ? 'bg-red-50' : 'bg-green-50'}">
          
          <div class="flex flex-col md:flex-row items-center justify-between gap-6 mb-8">
            <div class="flex items-center gap-6">
              <div class="relative">
                <div class="absolute inset-0 ${isHighRisk ? 'bg-red-500' : 'bg-green-500'} rounded-full blur-xl opacity-50"></div>
                <div class="relative w-20 h-20 ${isHighRisk ? 'bg-red-500' : 'bg-green-500'} rounded-full flex items-center justify-center text-4xl">
                  ${isHighRisk ? '‚ö†Ô∏è' : '‚úÖ'}
                </div>
              </div>
              <div>
                <h2 class="text-4xl font-bold ${isHighRisk ? 'text-red-600' : 'text-green-600'} mb-2">
                  ${isHighRisk ? 'High Risk Detected' : 'Low Risk Profile'}
                </h2>
                <p class="text-lg text-gray-600">Cardiovascular Disease Assessment</p>
              </div>
            </div>
            
            <div class="text-center">
              <div class="text-6xl font-bold ${isHighRisk ? 'text-red-600' : 'text-green-600'} mb-2">
                ${probability}%
              </div>
              <p class="text-sm text-gray-600 font-semibold">Risk Probability</p>
            </div>
          </div>

          <div class="mb-8">
            <div class="flex justify-between text-sm font-semibold mb-2 text-gray-700">
              <span>Low Risk</span>
              <span>High Risk</span>
            </div>
            <div class="relative w-full h-6 bg-gradient-to-r from-green-200 via-yellow-200 to-red-200 rounded-full overflow-hidden">
              <div class="absolute left-0 top-0 h-full ${isHighRisk ? 'bg-red-600' : 'bg-green-600'} rounded-full shadow-lg flex items-center justify-end pr-2 transition-all duration-1000" 
                   style="width: ${probability}%">
                <div class="w-4 h-4 bg-white rounded-full shadow-lg"></div>
              </div>
            </div>
          </div>

          <div class="grid md:grid-cols-3 gap-4 mb-8">
            <div class="bg-white/70 backdrop-blur rounded-xl p-4 border-2 ${isHighRisk ? 'border-red-200' : 'border-green-200'}">
              <div class="flex items-center gap-3 mb-2">
                <i data-lucide="heart-pulse" class="w-5 h-5 ${isHighRisk ? 'text-red-600' : 'text-green-600'}"></i>
                <span class="font-semibold text-gray-700">Blood Pressure</span>
              </div>
              <p class="text-2xl font-bold text-gray-800">${ap_hi}/${ap_lo}</p>
              <p class="text-sm text-gray-600">mmHg</p>
            </div>

            <div class="bg-white/70 backdrop-blur rounded-xl p-4 border-2 ${isHighRisk ? 'border-red-200' : 'border-green-200'}">
              <div class="flex items-center gap-3 mb-2">
                <i data-lucide="weight" class="w-5 h-5 ${isHighRisk ? 'text-red-600' : 'text-green-600'}"></i>
                <span class="font-semibold text-gray-700">BMI</span>
              </div>
              <p class="text-2xl font-bold text-gray-800">${bmi}</p>
              <p class="text-sm text-gray-600">${bmi < 18.5 ? 'Underweight' : bmi < 25 ? 'Normal' : bmi < 30 ? 'Overweight' : 'Obese'}</p>
            </div>

            <div class="bg-white/70 backdrop-blur rounded-xl p-4 border-2 ${isHighRisk ? 'border-red-200' : 'border-green-200'}">
              <div class="flex items-center gap-3 mb-2">
                <i data-lucide="calendar" class="w-5 h-5 ${isHighRisk ? 'text-red-600' : 'text-green-600'}"></i>
                <span class="font-semibold text-gray-700">Age</span>
              </div>
              <p class="text-2xl font-bold text-gray-800">${age}</p>
              <p class="text-sm text-gray-600">years old</p>
            </div>
          </div>

          <div class="bg-white/70 backdrop-blur rounded-xl p-6 border-2 ${isHighRisk ? 'border-red-200' : 'border-green-200'}">
            <div class="flex items-center gap-3 mb-4">
              <i data-lucide="clipboard-list" class="w-6 h-6 ${isHighRisk ? 'text-red-600' : 'text-green-600'}"></i>
              <h3 class="text-xl font-bold text-gray-800">Recommendations</h3>
            </div>
<div class="space-y-3 text-gray-700">
  ${isHighRisk ? `
    <ul class="list-disc list-inside space-y-2">
      <li>Consult a cardiologist as soon as possible</li>
      <li>Monitor blood pressure regularly</li>
      <li>Adopt a heart-healthy diet (low salt & fat)</li>
      <li>Increase physical activity gradually</li>
      <li>Avoid smoking and alcohol consumption</li>
      <li>Manage stress through meditation or yoga</li>
    </ul>
  ` : `
    <ul class="list-disc list-inside space-y-2">
      <li>Maintain your healthy lifestyle</li>
      <li>Continue regular physical activity</li>
      <li>Follow a balanced diet</li>
      <li>Get routine health check-ups</li>
      <li>Monitor blood pressure occasionally</li>
    </ul>
  `}
</div>
</div>

<!-- Action Buttons -->
<div class="flex flex-col md:flex-row gap-4 mt-8">
  <button onclick="location.reload()"
    class="flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 py-3 rounded-xl font-bold transition">
    üîÑ New Prediction
  </button>

  <a href="dashboard.html"
    class="flex-1 text-center bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 rounded-xl font-bold shadow hover:shadow-lg transition">
    üìä View Dashboard
  </a>
</div>
</div>
      `;
      
      // Re-render icons inside dynamic HTML
      lucide.createIcons();

    } catch (error) {
      resultDiv.innerHTML = `
        <div class="glass rounded-3xl shadow-2xl p-10 text-center text-red-600">
          <h2 class="text-2xl font-bold mb-2">‚ùå Prediction Failed</h2>
          <p>Please make sure backend is running</p>
        </div>
      `;
    }
  }
  </script>
<script>
  lucide.createIcons();

  if (!localStorage.getItem("user")) {
    window.location.href = "login.html";
  }
</script>

<style>
  .nav-btn {
    padding: 8px 14px;
    border-radius: 8px;
    display: flex;
    gap: 6px;
    align-items: center;
    font-weight: 500;
  }
  .nav-btn:hover { background: #f3f4f6; }
</style>

</body>
</html>
